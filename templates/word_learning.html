<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>基于NLP的生词识别与学习系统</title>
    <style>
        * {margin: 0; padding: 0; box-sizing: border-box;}
        body {font-family: 'Microsoft YaHei', sans-serif; background: #f0f2f5; color: #333;            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            transition: background-image 1s ease-in-out;
            min-height: 100vh;}
        .header {background: linear-gradient(135deg, #1a237e 0%, #3949ab 100%); padding: 20px; color: white; box-shadow: 0 2px 4px rgba(0,0,0,0.1);}
        .logo {display: flex; align-items: center; gap: 15px;}
        .logo-icon {font-size: 2.5em; color: #ffffff;}
        .logo-text {font-size: 1.8em; font-weight: bold;}
        .nav {background: white; padding: 15px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);}
        .nav-list {list-style: none; display: flex; justify-content: space-around; max-width: 1200px; margin: 0 auto;}
        .nav-item {padding: 10px 20px; border-radius: 5px; transition: all 0.3s ease;}
        .nav-item a {text-decoration: none; color: #333; font-size: 1.1em;}
        .nav-item:hover {background: #e8eaf6;}
        .nav-item.active {background: #3f51b5;}
        .nav-item.active a {color: white;}
        .nav-item.logout {color: #f44336;}
        .nav-item.logout:hover {background: #ffebee;}
        .main-content {max-width: 800px; margin: 20px auto; padding: 20px; background: white; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);}
        .container {background-color: #f9f9f9; padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);}
        .input-group {margin-bottom: 20px;}
        input[type="text"] {width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px; margin-bottom: 10px;}
        button {background-color: #4CAF50; color: white; padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer; margin-right: 10px;}
        button:hover {background-color: #45a049;}
        .result {margin-top: 20px; padding: 15px; border: 1px solid #ddd; border-radius: 4px; background-color: #ffffff; line-height: 1.6; max-width: 100%; box-shadow: 0 0 8px rgba(0,0,0,0.1);}
        .result p {margin-bottom: 10px; font-size: 1.1em;}
        .result .definition, .result .example {padding: 10px; margin-bottom: 10px; border-radius: 6px; line-height: 1.5; font-size: 1.1em;}
        .result .definition {background: #f5f5f5;}
        .result .example {background: #e8f5e9;}
        .result .translation {font-style: italic; color: #555; margin-top: 5px;}
        .error {color: red; padding: 10px; background: #ffebee; border-radius: 4px;}
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>
<body>
    <header class="header">
        <div class="logo">
            <i class="fas fa-book-reader logo-icon"></i>
            <span class="logo-text">基于NLP的生词识别与学习系统</span>
        </div>
    </header>

    <nav class="nav">
        <ul class="nav-list">
            <li class="nav-item"><a href="/"><i class="fas fa-home"></i> 首页</a></li>
            <li class="nav-item"><a href="personal_information"><i class="fas fa-user"></i> 个人信息</a></li>
            <li class="nav-item"><a href="word_recognition"><i class="fas fa-language"></i> 生词识别</a></li>
            <li class="nav-item active"><a href="word_learning"><i class="fas fa-graduation-cap"></i> 单词学习</a></li>
            <li class="nav-item"><a href="word_analysis"><i class="fas fa-chart-bar"></i> 文本分析</a></li>
            <li class="nav-item logout"><a href="logout"><i class="fas fa-sign-out-alt"></i> 退出登录</a></li>
        </ul>
    </nav>

    <div class="main-content">
        <div class="container">
            <h1>单词学习助手</h1>
            <form method="post" action="/learn_word" class="input-group">
                <input type="text" name="word" id="wordInput" placeholder="请输入要学习的单词">
                <button type="submit">学习</button>
            </form>
            <form method="post" action="/translate" class="input-group">
                <input type="text" name="text" id="translateInput" placeholder="请输入要翻译的单词">
                <input type="hidden" name="from_lang" value="en">
                <input type="hidden" name="to_lang" value="zh">
                <button type="submit">翻译</button>
            </form>
            <form method="post" action="/speak_english" class="input-group">
                <input type="text" name="text" id="speakEnglishInput" placeholder="请输入要发音的英文文本">
                <button type="submit">英文发音</button>
            </form>
            <form method="post" action="/speak_chinese" class="input-group">
                <input type="text" name="text" id="speakChineseInput" placeholder="请输入要发音的中文文本">
                <button type="submit">中文发音</button>
            </form>

            <div class="result" id="result">
                {% if result %}
                    {% for line in result.split('\n') %}
                        {% if line.startswith('Definitions:') %}
                            <h3 style="font-size: 1.3em; margin-bottom: 10px; color: #333; font-weight: bold;">{{ line }}</h3>
                        {% elif line.startswith('Examples:') %}
                            <h3 style="font-size: 1.3em; margin-bottom: 10px; color: #333; font-weight: bold;">{{ line }}</h3>
                        {% elif 'Translation:' in line %}
                            {% set parts = line.split('Translation:') %}
                            <div class="definition" style="background-color: #ffffff; border: 1px solid #ddd; padding: 12px; margin-bottom: 10px; border-radius: 6px;">
                                <div style="font-style: italic; color: #555;">{{ parts[0] }}</div>
                                <div class="translation" style="font-style: italic; color: #555; margin-top: 5px;">翻译: {{ parts[1].replace(')', '') }}</div>
                            </div>
                        {% else %}
                            <div class="example" style="background-color: #ffffff; border: 1px solid #ddd; padding: 12px; margin-bottom: 10px; border-radius: 6px;">
                                {{ line }}
                            </div>
                        {% endif %}
                    {% endfor %}
                {% elif translated_text %}
                    <p style="font-size: 1.1em; color: #333; margin-top: 20px;">{{ translated_text }}</p>
                {% elif audio_file %}
                    <audio controls style="margin-top: 15px;">
                        <source src="{{ audio_file }}" type="audio/mpeg">Your browser does not support the audio element.
                    </audio>
                {% elif error %}
                    <p class="error" style="color: #f44336; background: #ffebee; padding: 10px; border-radius: 4px; margin-top: 20px;">
                        {{ error }}
                    </p>
                {% endif %}
            </div>
            
            
        </div>
    </div>

    <script>
            // 背景图片轮播
            const backgrounds = [
            'static/images/nlp1.jpg',
            'static/images/nlp2.jpg',
            'static/images/nlp3.jpg',
            'static/images/nlp4.jpg'
        ];
        let currentIndex = 0;

        function changeBackground() {
            document.body.style.backgroundImage = `url('${backgrounds[currentIndex]}')`;
            currentIndex = (currentIndex + 1) % backgrounds.length;
        }

        // 初始化背景
        changeBackground();
        // 每5秒切换一次背景
        setInterval(changeBackground, 5000);
        document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', function() {
                document.querySelector('.nav-item.active').classList.remove('active');
                if (!this.classList.contains('logout')) {
                    this.classList.add('active');
                }
            });
        });
    </script>
</body>
</html>

